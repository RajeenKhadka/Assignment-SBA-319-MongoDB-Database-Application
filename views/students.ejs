<h1>Students List</h1>

<% if (students.length > 0) { %>
<ul>
  <% students.forEach((student) => { %>
  <li>
    <strong>Name:</strong> <%= student.name.first %> <%= student.name.last %><br />
    <strong>Email:</strong> <%= student.email %><br />
    <strong>Age:</strong> <%= student.age %><br />
    <strong>Instrument:</strong> <%= student.instrument %><br />
    <strong>Skill Level:</strong> <%= student.skillLevel %><br />
    <strong>Enrolled:</strong> <%= student.enrolled ? "Yes" : "No" %><br />

    <!-- Delete Student -->
    <form
      action="/api/students/<%= student._id %>?_method=DELETE"
      method="POST"
    >
      <button type="submit">Remove</button>
    </form>

    <!-- Edit Student -->
    <form action="/students/<%= student._id %>/edit" method="GET">
      <button type="submit">Edit</button>
    </form>
  </li>
  <% }) %>
</ul>
<% } else { %>
<p>No students available. Add a new student below:</p>
<% } %>

<!-- Add New Student Form -->
<h2>Add New Student</h2>
<form action="/api/students" method="POST">
  <label>
    First Name:
    <input type="text" name="name.first" required />
  </label>
  <br />
  <label>
    Last Name:
    <input type="text" name="name.last" required />
  </label>
  <br />
  <label>
    Email:
    <input type="email" name="email" required />
  </label>
  <br />
  <label>
    Age:
    <input type="number" name="age" required min="5" max="100" />
  </label>
  <br />
  <label>
    Instrument:
    <select name="instrument" required>
      <option value="guitar">Guitar</option>
      <option value="bass">Bass</option>
      <option value="drums">Drums</option>
      <option value="vocals">Vocals</option>
      <option value="keys">Keys</option>
      <option value="other">Other</option>
    </select>
  </label>
  <br />
  <label>
    Skill Level:
    <select name="skillLevel" required>
      <option value="beginner">Beginner</option>
      <option value="intermediate">Intermediate</option>
      <option value="advanced">Advanced</option>
    </select>
  </label>
  <br />
  <label>
    Enrolled:
    <input type="checkbox" name="enrolled" />
  </label>
  <br />
  <input type="submit" value="Add Student" />
</form>
